# QA Assistant Prompt for CommCare Connect's EOI Feature

## Important Notes

- `plan.md` was AI-generated and may be outdated or inconsistent
- **The LIVE SITE is the source of truth** - when plan.md and the site disagree, the site wins

## Environment

- **Base URL**: https://flying-kit-curiously.ngrok-free.app/
- **Organization User Credentials**:
  - Username: `jjackson-dev@dimagi.com`
  - Password: `testpass123`
  - **NOTE**: These credentials belong to an organization and can be used for response submission testing
- **Branch**: `jj/EOI-pages`
- **Spec** (for reference only): https://raw.githubusercontent.com/jjackson/commcare-connect/refs/heads/jj/EOI-pages/commcare_connect/solicitations/eoi-temp/plan.md
- **Data**: Test data has been auto generated by a factory, and does not represent real production data.

## Scope

Testing focus: **Response Submission (Organization Users)**

### Response Submission Testing

- **Prerequisites**: You'll need organization user credentials (not the admin credentials above)
- **Focus**: Complete response submission workflow from organization perspective

#### Core Response Flow:

1. **Authentication & Access**

   - Log in as organization user
   - Navigate to solicitation detail page
   - Click "Apply Now" button → should redirect to response form

2. **Response Form Testing**

   - **Dynamic Form Generation**: Verify all question types render correctly:
     - Text inputs
     - Textarea fields
     - Number inputs
     - File uploads
     - Multiple choice options
   - **Required Field Validation**: Test form validation for required questions
   - **Question Ordering**: Confirm questions appear in correct order

3. **File Upload Testing**

   - **Single File Upload**: Test individual file attachments
   - **Multiple Files**: Test uploading multiple files if supported
   - **File Types**: Test various file types (PDF, DOC, images)
   - **File Size Limits**: Test large files and size validation
   - **File Display**: Verify uploaded files display correctly in form

4. **Draft Functionality**

   - **Save Draft**: Test saving partial responses
   - **Resume Draft**: Navigate away and return - verify draft persists
   - **Draft vs Submit**: Confirm clear distinction between save draft and final submit

5. **Final Submission**
   - **Complete Form**: Fill all required fields
   - **Submit Response**: Test final submission process
   - **Confirmation**: Verify success page/message appears
   - **Post-Submit**: Confirm response is marked as "submitted" (not editable)

#### Edge Cases & Error Scenarios:

- **Double-Click Prevention**: Rapid clicking submit button
- **Network Issues**: Test form behavior with poor connectivity
- **Session Timeout**: Long form completion with session expiration
- **Duplicate Responses**: Attempt to submit multiple responses to same solicitation
- **Deadline Validation**: Test submitting after deadline (should be blocked)
- **Organization Context**: Verify responses are tied to correct organization
- **Permission Boundaries**: Test accessing other org's responses

#### Response Management:

- **View Submitted**: Access previously submitted responses
- **Edit Restrictions**: Confirm submitted responses cannot be edited
- **Status Tracking**: Verify response status displays correctly (draft/submitted/under_review)

## Instructions

### For Response Submission Testing:

- **Organization User Setup**: You'll need organization user credentials (different from admin creds above)
- **Test URLs**: Focus on `/solicitations/<id>/respond/` and `/solicitations/response/<id>/success/`
- **Systematic Testing**: Work through each solicitation type (EOI vs RFP)
- **Document Everything**:
  - Form behavior for each question type
  - File upload success/failures
  - Draft saving reliability
  - Submission confirmation flow
  - Any error messages or validation issues
- **Cross-Browser**: Test in different browsers if possible
- **Mobile Testing**: Verify response forms work on mobile devices
- **Performance**: Note any slow form loads, file upload delays, or UI lag

### Key URLs to Test:

- `/solicitations/` → click "Apply Now" on active solicitations
- `/solicitations/<id>/respond/` → main response form
- `/solicitations/response/<id>/success/` → submission confirmation
- Organization dashboard (if accessible) → view submitted responses

### Testing Data Notes:

- **Test Solicitations**: Use the auto-generated test data mentioned above
- **File Uploads**: Prepare various file types (PDF, DOC, images) for upload testing
- **Form Completion**: Test both partial (draft) and complete form submissions

## Deliverables (Markdown Format)

### Response Submission Testing Results:

- [ ] **Response Submission Flow**: Pass/fail for each solicitation type tested
- [ ] **Question Type Testing**: Results for each question type (text, textarea, number, file, multiple_choice)
- [ ] **File Upload Testing**: Success/failure for different file types and sizes
- [ ] **Draft Functionality**: Save/resume draft testing results
- [ ] **Edge Case Testing**: Results from duplicate submission, deadline, session timeout testing
- [ ] **Mobile/Browser Compatibility**: Cross-platform testing results
- [ ] **Performance Issues**: Any slow loads, UI lag, or upload delays

### Overall Summary:

- [ ] **Blocking Issues**: Critical bugs preventing core functionality
- [ ] **High/Med/Low Issues**: Prioritized list of all issues found
- [ ] **Cursor-Ready Fix Prompts**: Specific, actionable prompts for each issue
- [ ] **Nice-to-Haves/Polish**: UX improvements and cosmetic fixes
- [ ] **Open Questions**: Items needing Product/Design clarification
